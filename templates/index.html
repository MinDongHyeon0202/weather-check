<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>건설 공정 판단 시스템</title>
    {% if location %}
<p>📍 현재 위치: <strong>{{ location }}</strong></p>
{% endif %}
    <!-- 생략: 스타일 -->
</head>
<body>
    <div class="container">
        <h1>건설 공정 판단 시스템 🌦️</h1>
        <form method="POST">
            <select name="task">
                {% for t in tasks %}
                    <option value="{{ t }}">{{ t }}</option>
                {% endfor %}
            </select>
            <button type="submit">판단하기</button>
        </form>
        {% if weather %}
            <p>현재 기온: {{ weather.temp }}℃</p>
        {% endif %}
        {% if result %}
            <p>📋 판단 결과: {{ result }}</p>
        {% endif %}
        {% if forecast %}
<h3>📆 24시간 예보 작업 가능성</h3>
<table border="1" cellpadding="6" cellspacing="0">
  <tr>
    <th>시간</th>
    <th>기온(℃)</th>
    <th>습도(%)</th>
    <th>풍속(m/s)</th>
    <th>강수(mm)</th>
    <th>판단</th>
  </tr>
  {% for f in forecast %}
  <tr>
    <td>{{ f.time }}</td>
    <td>{{ f.temp }}</td>
    <td>{{ f.humidity }}</td>
    <td>{{ f.wind }}</td>
    <td>{{ f.rain }}</td>
    <td>{{ f.judgment }}</td>
  </tr>
  {% endfor %}
</table>
{% endif %}
{% if schedule %}
<h3>📌 시간대별 작업 추천 스케줄</h3>
<table border="1" cellpadding="6">
  <tr>
    <th>시간</th>
    <th>가능한 작업 공정</th>
  </tr>
  {% for time, task_list in schedule.items() %}
  <tr>
    <td>{{ time }}</td>
    <td>
      {% if task_list %}
        {{ task_list|join(', ') }}
      {% else %}
        없음
      {% endif %}
    </td>
  </tr>
  {% endfor %}
</table>
{% endif %}

    </div>
</body>
</html>
